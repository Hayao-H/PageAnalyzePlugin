# PageAnalyzePlugin

## イントロダクション

### 概要
Niconicomeの公式アドオンです。
本アドオンはNiconicomeからの呼び出しによってニコニコ動画の視聴ページを解析し、その結果をNiconicomeに返却します。

### 目的
ニコニコは日々改善・機能の追加が行われているウェブサービスであるため多くのアップデートが存在し、その際に動画情報に関する記述の形式が変更される場合があります。  
このような場合、今まではアプリケーションのコード（c#）そのものを変更する必要があり、開発中のコードとのコンフリクトが発生することも珍しくありませんでした。  
こうした問題を解決するために、本アドオンはNiconicomeからページ解析機能を独立させ、Niconicomeのリリーススケジュールに関係なく修正・改善を行うことを可能にします。

## 使用している権限

~~**本アドオンは今のところ、外部との通信を行いません。**~~
動画情報を本アドオンで取得するため、外部（``www.nicovideo.jp/api/watch/v3``）との通信を行います。

### hooks
この権限は、本アドオンの関数をアプリケーションに公開するために必要です。

### output
この権限は、エラーや初期化等の情報をアプリケーションの出力画面に書き込むことでユーザーに伝えるために必要です。

### log
この権限は、エラー情報をアプリケーションのログファイルに書き込むために必要です。

### autoUpdate
この権限は、アドオンの自動更新のために必要です。

### session
この権限は、動画情報の取得に利用しているAPIへのアクセスにログインが必須なため、ログインセッションを取得するために利用します。

## 技術的情報

### 開発言語
- [TypeScript](https://www.typescriptlang.org/)
- Javascript（一部のスクリプトなど）

### 開発環境
- VS Code
- Node.js

### バンドラ
- esbuild

### パッケージマネージャー
- yarn
